<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type = "text/css" href="../mainpage.css?ver=1">
    <link rel="stylesheet" type="text/css" href="../css/css.css?ver=2">
    <link rel="stylesheet" type="text/css" href="../css/style.css?ver=3">
    <link rel="stylesheet" type="text/css" href="signupCss.css?ver=4">
    <link rel="stylesheet" type="text/css" href="../board/reset.css?ver=5">
    <link rel="stylesheet" href="../board/style.css?ver=6"> 
    <link rel = "icon" href="image/wave.ico">
    <script src="https://kit.fontawesome.com/47f0662df2.js" crossorigin="anonymous"></script>
    <style>
        #modal.modal-overlay {
            width: 3000px;
            height: 1000px;
            position: absolute;
            left: 0;
            top: 0;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.25);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            backdrop-filter: blur(1.5px);
            -webkit-backdrop-filter: blur(1.5px);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        
        #modal .title {
            padding-left: 10px;
            display: inline;
            text-shadow: 1px 1px 2px gray;
            color: white;
            
        }
        #modal .title h2 {
            display: inline;
        }
        #modal .close-area {
            display: inline;
            float: right;
            padding-right: 10px;
            cursor: pointer;
            text-shadow: 1px 1px 2px gray;
            color: white;
        }
        
        #modal .content {
            margin-top: 20px;
            padding: 0px 10px;
            text-shadow: 1px 1px 2px gray;
            color: white;
        }
    </style>
    <title>Document</title>
        
        <!-- </div> -->
        <div id="titlebar">
            <a href="../mainpage.html"><img src="../main-image/title.png", alt="ë†ì¥ ì´ë¦„", width="300",width="300"></a>
        </div>

        <div id="navbar">
            <div id="navbar-icon">
                <a href="../../mainpage.html"><i class="fa-solid fa-house"></i></a>
                <!--<i class="fa-solid fa-bars"></i>-->
            </div>

            <ul id="navbar-menu">
                <li><a href="../../introduce.html">ì†Œê°œ</a></li> <!--ì†Œê°œ í˜ì´ì§€ ë”°ë¡œ-->
                <li><a href="../../product/product.php">ì œí’ˆ</a></li>
                <li><div class="dropdown">
                    <span class="dropbtn_icon"><a href="#" onclick= "location.href = 'boardpage.html' " >ê²Œì‹œíŒ</a></span>
                    <div class="dropdown-content">
                      <a href="boardpage.html">ê³µì§€ì‚¬í•­</a>
                      <a href="../Q&A/qnapage.html">Q&A</a>
                    </div>
                  </div></li>
            </ul>

            <ul id="navbar-login">
                <li><a onclick="hasToken()">ë§ˆì´í˜ì´ì§€</a></li>
                <li><a id = "btn-modal">ë¡œê·¸ì¸/íšŒì›ê°€ì…</a></li>
            </ul>

            <div id="modal" class="modal-overlay">
                <main id="app">
                    <h1 class="blind">ë¡œê·¸ì¸ ë° íšŒì›ê°€ì…ì°½</h1>
                    <!-- ë‹«ê¸° ì„¹ì…˜ -->
                    <section class="top-close">
                      <p class="top-txt">&nbsp&nbsp&nbsp&nbspë¡œê·¸ì¸  ë˜ëŠ”  íšŒì›ê°€ì…</p>
                        <button class="close">
                          <img src="./img/Vector 2.png" alt="">
                          <img src="./img/Vector 3.png" alt="">             
                        </button> 

                    </section>
                    <!-- ì…ë ¥ì°½ -->
                    <section class="user-input">
                      <h2 class="blind">ì•„ì´ë”” ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ì°½</h2>
                      <p class="msg">ë² ë¦¬êµ¿ì—ì„œ ë§›ìˆëŠ” ìƒí’ˆë“¤ì„ êµ¬ë§¤í•´ë³´ì„¸ìš” :)</p>
                      <label for="id"></label>
                      <input class="inp-id" type="text" id="id" required placeholder="ì•„ì´ë””">
                      <label for="pw"></label>
                      <input class="inp-pw" type="password" id="pw" required placeholder="ë¹„ë°€ë²ˆí˜¸">
                      <div class="check-wrap">
                        <input class="check-keep" type="checkbox" id="check" name="ë¡œê·¸ì¸ìƒíƒœìœ ì§€">
                        <label for="check"> </label>
                        <span class="keep-txt">ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€</span>
                      </div>
                      <button class="log-btn" type="submit" onclick="didClickLoginBtn()" >ë¡œê·¸ì¸</button>
                      <ul class="join-find">
                        <li class="user-join"><a href="#none">íšŒì›ê°€ì…</a></li>
                        <li><a href="#none">ì•„ì´ë””/ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°</a></li>
                      </ul>
                      <div class="log-other">ë˜ëŠ”</div>
                    </section>
                    <!-- ë‹¤ë¥¸ê³„ì •ë¡œê·¸ì¸ -->
                    <section class="other-log">
                      <h2 class="blind">ë‹¤ë¥¸ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸</h2>
                      <div class="other-btn">
                        <a class="log-glg btn glg" href="https://www.google.com" target="_blank">
                          <img src="./img/Google.png" alt="">
                          <div class="log-txt">êµ¬ê¸€ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸</div></a>
                
                        <a class="log-face btn face" href="https://www.facebook.com" target="_blank">
                          <img src="./img/facebook.png" alt="">          
                          <div class="log-txt">í˜ì´ìŠ¤ë¶ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸</div></a>
                
                        <a class="log-naver btn naver" href="https://www.naver.com" target="_blank">
                          <img src="./img/naver.png" alt="">          
                          <div class="log-txt">ë„¤ì´ë²„ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸</div></a>
                
                        <a class="log-kao btn kao" href="https://www.kakaocorp.com" target="_blank">
                          <img src="./img/message.png" alt="" >
                          <div class="log-txt">ì¹´ì¹´ì˜¤í†¡ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸</div></a>
                      </div>
                    </section>
                  </main>
            </div>

        </div>

        <div id="wrap" class="wrapper">
            <form method ="post" name="join" id="join">
              <!-- íšŒì›ê°€ì… íƒ€ì´í‹€ë¶€ë¶„ -->
               <header>
                  <div id="header">
                     <h1 class="h_loho">
                        <span><img alt="ì°¸ì¹˜ë¼ì´ë” ë©”ì¸ë¬¸êµ¬" src="wave.ico" style="width:60px; height:60px;"/></span>
      
                     </h1>
                     </div>
               </header>
      
               <div id="container">
                  <div class="row_group">
                     <div class="userInput">
              <!-- ì•„ì´ë”” ì…ë ¥ -->
                        <h3 class="list">ì•„ì´ë””<span id="idError"></span></h3>
                        <span class="box int_id" ><input type="text" id="id" class="int check"
                           maxlength="20" required placeholder="ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”."></span>
                     </div>
                     <div class="userInput">
              <!-- ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ -->
                        <h3 class="list">ë¹„ë°€ë²ˆí˜¸<span id="pwError"></span></h3>
                        <span class="box int_id"><input type="password" id="pw" class="int check"
                           maxlength="20" required placeholder="ë°”ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”."></span>
                     </div>
              <!-- ë¹„ë°€ë²ˆí˜¸ ì¬í™•ì¸ ì…ë ¥ -->
                     <div class="userInput">
                        <h3 class="list">ë¹„ë°€ë²ˆí˜¸ ì¬í™•ì¸<span id="pwCheckError"></span></h3>
                        <span class="box int_id">
                          <input type="password" id="pwCheck" class="int check" maxlength="20" required placeholder="ë°”ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œí•œë²ˆ ì…ë ¥í•˜ì„¸ìš”.">
                          </span>
                     </div>
                  </div>
                     <div class="row_group">
              <!-- ì„±ëª… ì…ë ¥ -->
                     <div class="userInput">
                        <h3 class="list">ì„±ëª…<span id="nameError"></span></h3>
                        <span class="box int_id"><input type="text" id="name" class="int check"
                           maxlength="20" required placeholder="ì„±ëª…ì„ ì…ë ¥í•˜ì„¸ìš”."></span>
                     </div>
              <!-- ì „í™”ë²ˆí˜¸ ì…ë ¥ -->
                     <div class="userInput">
                        <h3 class="list">ì „í™”ë²ˆí˜¸("-" ì œì™¸)<span id="phoneNumError"></span></h3>
                        <span class="box int_id"><input type="text" id="phoneNum" class="int check"
                           maxlength="11" required placeholder="íœ´ëŒ€í° ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”."></span>
                     </div>
      
                     <!-- ì´ë©”ì¼ ì…ë ¥ -->
                    <div class="userInput">
                      <h3 class="list">ì´ë©”ì¼<span id="emailError"></span></h3>
                      <span class="emailInt" id="emailBox"> <input type="text" id="email" maxlength="20" class="check" required placeholder="ì´ë©”ì¼ ì…ë ¥" > 
                         <span>   @ </span> 
                            <!-- ì´ë©”ì¼ íƒì¼ -->
                            <select id="mail_Select">
                               <option>ì´ë©”ì¼ ì„ íƒ</option>
                               <option>naver.com</option>
                               <option>gmail.com</option>
                               <option>daum.net</option>
                               <option>hanmail.net</option>
                               <option>hotmail.com</option>
                               <option>nate.com</option>
                               <option>yahoo.co.kr</option>
                               <option>empas.com</option>
                               <option>freechal.com</option>
                               <option>lycos.co.kr</option>
                               <option>korea.com</option>
                               <option>hanmir.com</option>
                               <option>dreamwiz.com</option>
                               <option>paran.com</option>
                            </select>
                      </span>
                   </div>    
                   <div class="btn_area">
                      <input type="submit" value="ê°€ì…í•˜ê¸°" id="btnJoin" class="btn_type btn_primary">
                   </div>
                </div>
             </div>
          </form>
       </div>

</head>
<body>
    <div id ="product"></div>
    <div style="clear:both;"></div> <!--í•˜ë‹¨ê³¼ ë¶„ë¦¬-->
        <hr/>

        <div id="second-cat"> <!--ëª¨ë“  í˜ì´ì§€ì— ì¶”ê°€-->
            <div id="map"><h3>ğŸ”ì˜¤ì‹œëŠ” ê¸¸</h3>
                <!-- * ì¹´ì¹´ì˜¤ë§µ - ì§€ë„í¼ê°€ê¸° -->
                <!-- 1. ì§€ë„ ë…¸ë“œ -->
                <div id="daumRoughmapContainer1671524483104" class="root_daum_roughmap root_daum_roughmap_landing" style="width:100%;"></div>

                <!--
                    2. ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸
                    * ì§€ë„ í¼ê°€ê¸° ì„œë¹„ìŠ¤ë¥¼ 2ê°œ ì´ìƒ ë„£ì„ ê²½ìš°, ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ëŠ” í•˜ë‚˜ë§Œ ì‚½ì…í•©ë‹ˆë‹¤.
                -->
                <script charset="UTF-8" class="daum_roughmap_loader_script" src="https://ssl.daumcdn.net/dmaps/map_js_init/roughmapLoader.js"></script>

                <!-- 3. ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ -->
                <script charset="UTF-8">
                    new daum.roughmap.Lander({
                        "timestamp" : "1671524483104",
                        "key" : "2d4ip",
                        //"mapWidth" : "350",
                        "mapHeight" : "175"
                    }).render();
                </script>
                <h4>ë² ë¦¬êµ¿ ë†ì¥, ì œì£¼ì‹œ ì¡°ì²œì ì™€í˜ë¦¬ 2419-2 </h4>
                </div>
            </div>
        
            <div id="copyright">
                <p><br><br>ğŸ“TEL : 010-9964-8294</p>
                <p>ğŸ’°ê³„ì¢Œ ì •ë³´ : ë†í˜‘ 352-0944-0792-53 ì¥ì£¼ì˜</p>
                <img src="../main-image/title.png">
                <address>
                Copyright &copy, BERRYGOOD ALL. rights resevered<br>
                tre021040@naver.com<br><br>
                ì´ìš©ì•½ê´€ <span id="personal-info"><a href="personal.html"
                    onclick="window.open(this.href,'_blank','width=800, height=600'); return false;">ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨</a></span>
            </address>
            </div>

            <script>
                window.localStorage.setItem('clickedPage', "btn1");
                var currentPage = 1;
    
    
                function changeclass(id) {
                    console.log(id);
                    document.getElementById(window.localStorage.getItem('clickedPage')).setAttribute("class", "num");
                    document.getElementById(id).setAttribute("class", "num on");
                    window.localStorage.setItem('clickedPage', id);
                    currentPage = id.slice(-1);
                    loadPage();
                    } 
                
                var noticeArray = new Object();
    
                window.onload = async function() {       
                    loadPage();
                }
    
    
                function loadPage(){
                    fetch(`http://3.36.62.87/forum/api/post/read.php?category=NOTICE&page=${currentPage}`, {
                        method: "GET",
                        headers: {
                          "Content-Type": "application/json",
                          "origin" : "http://3.36.62.87",
                          //"Cookie" : 'JWT=' + localStorage.getItem('jwt')
                        },
                        
                    }).then((response) => response.json())
                    .then((data) => {
                        noticeArray = data.data;
                        console.log(noticeArray);   
    
                        for(var i=0; i<5; i++){
                            var temp_title = "title_" + String(4-i);
                            var temp_writer = "writer_" + String(4-i);
                            var temp_date = "date_" + String(4-i);
                            var temp_count = "count_" + String(4-i);
                            var temp_num = "num_" + String(4-i);
                            document.getElementById(temp_num).innerHTML=data.data[i]._id;
    
                            document.getElementById(temp_title).innerHTML= `<a href='view.html'> ${data.data[i].title} </a>`
                            document.getElementById(temp_writer).innerHTML=data.data[i].author;
                            document.getElementById(temp_date).innerHTML=data.data[i].created_at;
                            document.getElementById(temp_count).innerHTML=data.data[i].views;
                            
                        }
                    });
                }
    
                function reply_click(clicked_id)
                {   
    
                    var temp_num = "num_" + clicked_id.slice(-1);
                    var id = document.getElementById(temp_num).innerHTML;
                        
                    window.localStorage.setItem('clicked_id', id);
                }
    
                function hasToken(){
                    fetch("http://3.36.62.87/user/api/is_login.php", {
                        method: "POST",
                        headers: {
                          "Content-Type": "application/json",
                          "origin" : "http://3.36.62.87",
                        },
                        body: JSON.stringify({
                            "JWT" : window.localStorage.getItem('jwt'),
                        }),
                        
                    }).then((response) => response.json())
                    .then((data) => {
                        console.log(data);
                        console.log(window.localStorage.getItem("isAdmin"));
                        if (data.message == "no jwt token"){
                            alert("ë¡œê·¸ì¸ì„ í•´ì£¼ì„¸ìš”");
                        }
                        else if ((data.message == "user has jwt") && (window.localStorage.getItem("isAdmin")=="false")){
                            alert("í—ˆìš©ëœ ì ‘ê·¼ì´ ì•„ë‹™ë‹ˆë‹¤.");
                        }
                        else if ((data.message == "user has jwt") && (window.localStorage.getItem("isAdmin")=="true")){
                            window.location.replace("write.html");
                            console.log("ì™œì•ˆë¨");
                        }
                        
                    
                    });
                    
                }
    
                const modal = document.getElementById("modal")
                function modalOn() {
                    modal.style.display = "flex"
                }
                function isModalOn() {
                    return modal.style.display === "flex"
                }
                function modalOff() {
                    modal.style.display = "none"
                }
                const btnModal = document.getElementById("btn-modal")
    
                btnModal.addEventListener("click", e => {
                    modalOn()
                })
    
                const closeBtn = modal.querySelector(".close")
    
                closeBtn.addEventListener("click", e => {
                    modalOff()
                })
    
                modal.addEventListener("click", e => {
                    const evTarget = e.target
                    if(evTarget.classList.contains("modal-overlay")) {
                        modalOff()
                    }
                })
                
                window.addEventListener("keyup", e => {
                    if(isModalOn() && e.key === "Escape") {
                        modalOff()
                    }
                })
    
    
                function didClickLoginBtn() {
    
                    const idToPost = document.getElementById('id').value;
                    const pwToPost = document.getElementById('pw').value;

                    fetch("http://3.36.62.87/user/api/login.php", {
                        method: "POST",
                        headers: {
                          "Content-Type": "application/json",
                          "origin" : "http://3.36.62.87"
                        },
                        body: JSON.stringify({
                            "id" : idToPost,
                            "password" : pwToPost
                        }),
                    }).then((response) => response.json())
                    .then((data) => {
                        window.localStorage.setItem('jwt', data.JWT); //JWT ì €ì¥í•´ì£¼ëŠ” ë°©ì‹
                        console.log(localStorage.getItem('jwt'));
                        if (idToPost=="administrator" && pwToPost=="administrator1!"){
                            window.localStorage.setItem('isAdmin', true );
                            alert("ì•ˆë…•í•˜ì„¸ìš”! ê´€ë¦¬ìë‹˜")
                        } 
                        else{
                            window.localStorage.setItem('isAdmin', false );
                            alert("ì•ˆë…•í•˜ì„¸ìš”!")
                        }
                        //`
                        window.location.replace("../../mainpage.html");
                            
                        });
                    
                        
                    
                }

                //íšŒì›ê°€ì… ìœ íš¨ì„±ê²€ì‚¬
        // ìì›ì„ í™”ë©´ì— ë¡œë“œí•˜ê²Œ ë˜ë©´ ìˆ˜í–‰í•  ë™ì‘(==function)
        window.onload = function() {

            var join = document.join; //formë°ì´í„°ë¥¼ ëª¨ë‘ joinë³€ìˆ˜ì— ì €ì¥
            
            // ìœ íš¨ì„±ê²€ì‚¬í•  ë¶€ë¶„ì„ classë¡œ ë¶€ì—¬í–ˆê¸°ì— check class íƒœê·¸ë¥¼ ëª¨ë‘ inputì— ì €ì¥ ê°€ì ¸ì˜´
            // ì´ë•Œ input í•œ íƒœê·¸ë‹¹ ë°°ì—´ ì¸ë±ìŠ¤ë¡œ ë°›ëŠ”ë‹¤.
            var input = document.querySelectorAll('.check');

            // ì˜¤ë¥˜ ë¬¸êµ¬ //errorId : spanì˜ idë“¤(ê° ìš”ì†Œë§ˆë‹¤ ë‚˜íƒ€ë‚¼ ì˜¤ë¥˜ë¥¼ í‘œì‹œí•˜ê¸° ìœ„í•¨)
            // error : class listì˜ í•˜ìœ„ spanì„ ëª¨ë‘ ë¶ˆëŸ¬ëƒ„(ì¼ê´„ ì²˜ë¦¬ë¥¼ ìœ„í•¨ - ë°˜ë³µë¬¸)
            var errorId = [ "idError", "pwError", "pwCheckError", "nameError", "phoneNumError", "emailError" ];
            var error = document.querySelectorAll('.list > span');
        
            
            // ì˜¤ë¥˜ë¬¸êµ¬ ì´ˆê¸°í™” ë©”ì„œë“œ
            // ì˜¤ë¥˜ í‘œì‹œ í›„, ì‚¬ìš©ìê°€ ì˜¬ë°”ë¥´ê²Œ ìˆ˜ì •ì„ í•˜ë©´ í…ìŠ¤íŠ¸ê°€ ì‚¬ë¼ì§€ëŠ” ëª¨ìŠµì„ êµ¬í˜„
            function innerReset(error){
            for (var i = 0; i < error.length; i++) {
                error[i].innerHTML = "";
            }
            }

            // ì´ˆê¸°í™” ë©”ì„œë“œ í˜¸ì¶œ
            innerReset(error);

            // [ ID ì…ë ¥ë¬¸ì ìœ íš¨ì„±ê²€ì‚¬ ] 
            join.id.onkeydown = function(){
            innerReset(error); // ì´ˆê¸°í™” ë©”ì„œë“œ í˜¸ì¶œ
            var idLimit = /^[a-zA-Z0-9-_]{5,20}$/; //ì •ê·œì‹ 5~20ì (a~z, A~Z, 0~9, -, _ë§Œ ì…ë ¥ê°€ëŠ¥)
            if (!idLimit.test(input[0].value)) { //ì…ë ¥ê°’ê³¼ ì •ê·œì‹ ë²”ìœ„ì™€ ê°™ì§€ ì•Šë‹¤ë©´
                // idì˜ ì˜¤ë¥˜ ë¬¸êµ¬ì‚½ì…
                document.getElementById(errorId[0]).innerHTML = "5~20ìì˜ ì˜ë¬¸ ì†ŒëŒ€ë¬¸ì, ìˆ«ìì™€ íŠ¹ìˆ˜ê¸°í˜¸(_),(-)ë§Œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.";

            }
            }
            // [ PW ì…ë ¥ë¬¸ì ìœ íš¨ì„±ê²€ì‚¬ ]
            join.pw.onkeydown = function(){
            innerReset(error); // ì´ˆê¸°í™” ë©”ì„œë“œ í˜¸ì¶œ
            var pwLimit = /^[a-zA-Z0-9~!@#$%^&*()_-]{10,20}$/; //ì •ê·œì‹(a~z, A~Z, 0~9, ~!@#$%^&*()_- ë§Œ ì…ë ¥ê°€ëŠ¥)
            if (!pwLimit.test(input[1].value)) { //ì…ë ¥ê°’ê³¼ ì •ê·œì‹ ë²”ìœ„ì™€ ê°™ì§€ ì•Šë‹¤ë©´
                // pwì˜ ì˜¤ë¥˜ ë¬¸êµ¬ì‚½ì…
                document.getElementById(errorId[1]).innerHTML = " 10~20ìì˜ ì˜ë¬¸ ì†ŒëŒ€ë¬¸ì, ìˆ«ìì™€ íŠ¹ìˆ˜ê¸°í˜¸ '~!@#$%^&*()_-'ë§Œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.";
            }   
            }
            // [ PW ì¬í™•ì¸ ì…ë ¥ë¬¸ì ì´ˆê¸°í™” ]
            //ë¹„ë°€ë²ˆí˜¸ ë™ì¼ì—¬ë¶€ëŠ” submit ë²„íŠ¼ í´ë¦­ì‹œ ê²€ì‚¬í•´ì¤„ ì˜ˆì •
            join.pwCheck.onkeydown = function(){
            // pwì˜ ì˜¤ë¥˜ ë¬¸êµ¬ì‚½ì…
            innerReset(error);// ì˜¤ë¥˜ë¬¸êµ¬ ì´ˆê¸°í™”   
            }
            // [ íœ´ëŒ€í°ë²ˆí˜¸ ì…ë ¥ë¬¸ì ìœ íš¨ì„±ê²€ì‚¬ ]
            join.phoneNum.onkeydown = function(){ //ì…ë ¥ê°’ê³¼ ì •ê·œì‹ ë²”ìœ„ì™€ ê°™ì§€ ì•Šë‹¤ë©´
            innerReset(error); // ì´ˆê¸°í™” ë©”ì„œë“œ í˜¸ì¶œ   
                var pnumLimit =  /^01[0|1|6|7|8|9]{1}[0-9]{8}$/; // ì •ê·œì‹(^$--> ë¬¸ìì˜ë¯¸, 01, (6ìë¦¬ì¤‘ "1ìë¦¬"), 0~9--> "8ìë¦¬")
                if (!pnumLimit.test(input[4].value)) { //ì…ë ¥ê°’ê³¼ ì •ê·œì‹ ë²”ìœ„ì™€ ê°™ì§€ ì•Šë‹¤ë©´
                    // pwì˜ ì˜¤ë¥˜ ë¬¸êµ¬ì‚½ì… 
                    document.getElementById(errorId[4]).innerHTML = " ì˜¬ë°”ë¥¸ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤. ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”.";
                }
            }
            
            // [ ì´ë©”ì¼ ì…ë ¥ ìœ íš¨ì„±ê²€ì‚¬ ] 
            join.email.onkeydown = function(){ //ì…ë ¥ê°’ê³¼ ì •ê·œì‹ ë²”ìœ„ì™€ ê°™ì§€ ì•Šë‹¤ë©´
                innerReset(error); // ì´ˆê¸°í™” ë©”ì„œë“œ í˜¸ì¶œ
                var emailLimit = /[0-9a-zA-Z-_.]/; // ì •ê·œì‹ 0~9, a~z, A~Z, -, _, .ë‚´ì—ì„œë§Œ ì…ë ¥ê°€ëŠ¥
                    if (!emailLimit.test(input[5].value)) {  //ì…ë ¥ê°’ê³¼ ì •ê·œì‹ ë²”ìœ„ì™€ ê°™ì§€ ì•Šë‹¤ë©´
                        // ì´ë©”ì¼ì˜ ì˜¤ë¥˜ ë¬¸êµ¬ì‚½ì…
                        document.getElementById(errorId[5]).innerHTML = " ì˜¬ë°”ë¥¸ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤. ì˜ë¬¸,ìˆ«ì, (-)(_)(.) ì…ë ¥ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.";
                    }
                }
                    //submit ì‹¤í–‰ì‹œ ìˆ˜í–‰í•  ë™ì‘
            join.onsubmit = function() { //joinì—ì„œ submitì´ ì‹¤í–‰ëœë‹¤ë©´ ìˆ˜í–‰í•  í•¨ìˆ˜           
                var errorStr = [ " ì•„ì´ë””ë¥¼", " ë¹„ë°€ë²ˆí˜¸ë¥¼", " ë¹„ë°€ë²ˆí˜¸ í™•ì¸ì„", " ì„±í•¨ì„", " íœ´ëŒ€í°ë²ˆí˜¸ë¥¼", " ì´ë©”ì¼ì„" ];
                
                innerReset(error); // ì˜¤ë¥˜ë¬¸êµ¬ ì´ˆê¸°í™”
                
                // [ input ê³µë°±í™•ì¸ ]
                for (var i = 0; i < input.length - 1; i++) { // -1 == submitì œì™¸ 
                if (!input[i].value) { 
                    document.getElementById(errorId[i]).innerHTML = errorStr[i]+ " ì…ë ¥í•´ ì£¼ì„¸ìš”.";
                    input[i].focus(); // í¬ì»¤ìŠ¤ ì´ë™
                    return false; // ì¢…ë£Œ (í¬ì»¤ìŠ¤ ì´ë™ìœ ì§€ë¥¼ ìœ„í•´ false ì¢…ë£Œ)
                }
                }         
            
                //ìœ íš¨ì„±ê²€ì‚¬) ë¹„ë°€ë²ˆí˜¸ ì¬í™•ì¸
                if (join.pw.value != join.pwCheck.value) {
                document.getElementById("pwCheckError").innerHTML = " ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.";
                join.pwCheck.focus(); // í¬ì»¤ìŠ¤ ì´ë™
                return false;
                }

                // ì •ê·œì‹ ë³€ìˆ˜ ëª¨ìŒ     
                var idLimit = /^[a-zA-Z0-9-_]{5,20}$/; //ì •ê·œì‹(a~z, A~Z, 0~9, -, _ë§Œ ì…ë ¥ê°€ëŠ¥)
                var pwLimit = /^[a-zA-Z0-9~!@#$%^&*()_-]{10,20}$/;///[a-zA-Z0-9]{10, 20}/; //ì •ê·œì‹(a~z, A~Z, 0~9,~!@#$%^&*()_-íŠ¹ìˆ˜ë¬¸ì ë§Œ ì…ë ¥ê°€ëŠ¥)
                var pnumLimit =  /^01[0|1|6|7|8|9]{1}[0-9]{8}$/; // 01ë¡œ ì‹œì‘, 0,1,6,7,8,9 ì¤‘ í•œìë¦¬, 0~9ì—ì„œ 8ìë¦¬ ì…ë ¥
                var emailLimit = /[0-9a-zA-Z-_.]/; // ì •ê·œì‹ 0~9, a~z, A~Z, -, _, .ë‚´ì—ì„œë§Œ ì…ë ¥ê°€ëŠ¥

                // [ ID ìœ íš¨ì„±ê²€ì‚¬ ]
                if (!idLimit.test(input[0].value)) {
                document.getElementById(errorId[0]).innerHTML = " 5~20ìì˜ ì˜ë¬¸ ì†ŒëŒ€ë¬¸ì, ìˆ«ìì™€ íŠ¹ìˆ˜ê¸°í˜¸(_),(-)ë§Œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.";
                join.id.focus(); // í¬ì»¤ìŠ¤ ì´ë™
                return false;
                }

                // [ PW ìœ íš¨ì„±ê²€ì‚¬ ]
                if (!pwLimit.test(input[1].value)) {
                document.getElementById(errorId[1]).innerHTML = " 10~20ìì˜ ì˜ë¬¸ ì†ŒëŒ€ë¬¸ì, ìˆ«ìì™€ íŠ¹ìˆ˜ê¸°í˜¸ '~!@#$%^&*()_-'ë§Œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.";
                //console.log(input[1].value);
                //console.log(pwLimit.test(input[1].value));
                join.pw.focus(); // í¬ì»¤ìŠ¤ ì´ë™
                return false;
                }         

                

            // [ íœ´ëŒ€í°ë²ˆí˜¸ ìœ íš¨ì„±ê²€ì‚¬ ]
                if (!pnumLimit.test(input[4].value)) { 
                document.getElementById(errorId[4]).innerHTML = " ì˜¬ë°”ë¥¸ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤. ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”.";
                join.phoneNum.focus(); // í¬ì»¤ìŠ¤ ì´ë™
                return false;
                }

            // [ email ì•„ì´ë”” ìœ íš¨ì„±ê²€ì‚¬ ]
                if (!emailLimit.test(input[5].value)) { 
                document.getElementById(errorId[5]).innerHTML = " ì˜¬ë°”ë¥¸ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤. ì˜ë¬¸,ìˆ«ì, (-)(_)(.) ì™¸ ì…ë ¥ì€ ë¶ˆê°€í•©ë‹ˆë‹¤.";
                join.email.focus(); // í¬ì»¤ìŠ¤ ì´ë™
                return false;
                }

            // [ email ì£¼ì†Œì„ íƒ ìœ íš¨ì„±ê²€ì‚¬ ]
                if (document.getElementById("mail_Select").value=="ì´ë©”ì¼ ì„ íƒ") { 
                document.getElementById(errorId[5]).innerHTML = " ì´ë©”ì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”.";
                return false;
                }
                //console.log(document.getElementById("mail_Select").value);

                const idToPost = document.getElementById('id').value;
                const pwToPost = document.getElementById('pw').value;
                const nameToPost= document.getElementById('name').value;
                const phoneNumToPost = document.getElementById('phoneNum').value;
                const emailToPost = document.getElementById("mail_Select").value;

                document.write(idToPost);

                fetch("http://3.36.62.87/user/api/register.php", {
                    method: "POST",
                    headers: {
                      "Content-Type": "application/json",
                      "origin" : "http://3.36.62.87"
                    },
                    body: JSON.stringify({
                        "id" : idToPost,
                        "name" : nameToPost,
                        "password" : pwToPost,
                        "email" : emailToPost,
                        "address" : "ê³µë°±",
                        "phone_number" : phoneNumToPost,
                        "home_number" : "0000",
                        "birthday" : "ì—†ìŒ"
                    }),
                }).then((response) => console.log(response));
                
                  
                alert("íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!")
                window.location.replace("../mainpage.html");
            }//join.onsublit
                
        }//window
            </script>
</body>
    
</html>